#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const aws_account_constants_1 = require("@lib/constants/aws-account.constants");
const aws_region_constants_1 = require("@lib/constants/aws-region.constants");
const lse_data_analysis_common_stack_1 = require("@lib/app/lse-data-analysis-common-stack");
const lse_best_performers_lambda_stack_1 = require("@lib/app/lse-best-performers-lambda-stack");
const env = { env: { account: aws_account_constants_1.AwsAccount.localstack, region: aws_region_constants_1.AwsRegion.localstack } };
const app = new cdk.App();
// const mongoDbConnectionString = 'mongodb://lse_user:lse_password@mongodb:27017/?retryWrites=true&loadBalanced=false&serverSelectionTimeoutMS=5000&connectTimeoutMS=10000&authSource=admin&authMechanism=SCRAM-SHA-256';
const mongoDbConnectionString = 'mongodb+srv://flahertyjoe90:Riadbsc%5E90@cluster0.0c5tnsn.mongodb.net/lse?appName=Cluster0&retryWrites=true&loadBalanced=false&replicaSet=atlas-neg8yj-shard-0&readPreference=primary&srvServiceName=mongodb&connectTimeoutMS=10000&w=majority&authSource=admin&authMechanism=SCRAM-SHA-1';
const commonStackProperties = {};
const commonStack = new lse_data_analysis_common_stack_1.CommonStack(app, `LseDataAnalysisCommonStack`, {
    ...commonStackProperties,
    ...env
});
const lseBestPerformersLambdaStack = new lse_best_performers_lambda_stack_1.LseBestPerformersLambdaStack(app, `LseBestPerformersLambdaStack`, {
    ...commonStackProperties,
    mongoDbConnectionString: mongoDbConnectionString,
    ...env
});
lseBestPerformersLambdaStack.addDependency(commonStack);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL2Rldi9tYWluLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLHVDQUFxQztBQUNyQyxtQ0FBbUM7QUFFbkMsZ0ZBQWtFO0FBQ2xFLDhFQUFnRTtBQUVoRSw0RkFBd0Y7QUFDeEYsZ0dBQXlGO0FBRXpGLE1BQU0sR0FBRyxHQUFHLEVBQUUsR0FBRyxFQUFFLEVBQUUsT0FBTyxFQUFFLGtDQUFVLENBQUMsVUFBVSxFQUFFLE1BQU0sRUFBRSxnQ0FBUyxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUM7QUFFdEYsTUFBTSxHQUFHLEdBQUcsSUFBSSxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7QUFFMUIsME5BQTBOO0FBQzFOLE1BQU0sdUJBQXVCLEdBQUcsMlJBQTJSLENBQUM7QUFHNVQsTUFBTSxxQkFBcUIsR0FBcUIsRUFBRSxDQUFBO0FBRWxELE1BQU0sV0FBVyxHQUNiLElBQUksNENBQVcsQ0FBQyxHQUFHLEVBQUUsNEJBQTRCLEVBQUU7SUFDL0MsR0FBRyxxQkFBcUI7SUFDeEIsR0FBRyxHQUFHO0NBQ1QsQ0FBQyxDQUFBO0FBRU4sTUFBTSw0QkFBNEIsR0FDOUIsSUFBSSwrREFBNEIsQ0FBQyxHQUFHLEVBQUUsOEJBQThCLEVBQUU7SUFDbEUsR0FBRyxxQkFBcUI7SUFDeEIsdUJBQXVCLEVBQUUsdUJBQXVCO0lBQ2hELEdBQUcsR0FBRztDQUNULENBQUMsQ0FBQTtBQUNOLDRCQUE0QixDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIiMhL3Vzci9iaW4vZW52IG5vZGVcclxuaW1wb3J0ICdzb3VyY2UtbWFwLXN1cHBvcnQvcmVnaXN0ZXInO1xyXG5pbXBvcnQgKiBhcyBjZGsgZnJvbSAnYXdzLWNkay1saWInO1xyXG5cclxuaW1wb3J0IHsgQXdzQWNjb3VudCB9IGZyb20gJ0BsaWIvY29uc3RhbnRzL2F3cy1hY2NvdW50LmNvbnN0YW50cyc7XHJcbmltcG9ydCB7IEF3c1JlZ2lvbiB9IGZyb20gJ0BsaWIvY29uc3RhbnRzL2F3cy1yZWdpb24uY29uc3RhbnRzJztcclxuXHJcbmltcG9ydCB7IENvbW1vblN0YWNrLCBDb21tb25TdGFja1Byb3BzIH0gZnJvbSAnQGxpYi9hcHAvbHNlLWRhdGEtYW5hbHlzaXMtY29tbW9uLXN0YWNrJztcclxuaW1wb3J0IHsgTHNlQmVzdFBlcmZvcm1lcnNMYW1iZGFTdGFjayB9IGZyb20gJ0BsaWIvYXBwL2xzZS1iZXN0LXBlcmZvcm1lcnMtbGFtYmRhLXN0YWNrJztcclxuXHJcbmNvbnN0IGVudiA9IHsgZW52OiB7IGFjY291bnQ6IEF3c0FjY291bnQubG9jYWxzdGFjaywgcmVnaW9uOiBBd3NSZWdpb24ubG9jYWxzdGFjayB9IH07XHJcblxyXG5jb25zdCBhcHAgPSBuZXcgY2RrLkFwcCgpO1xyXG5cclxuLy8gY29uc3QgbW9uZ29EYkNvbm5lY3Rpb25TdHJpbmcgPSAnbW9uZ29kYjovL2xzZV91c2VyOmxzZV9wYXNzd29yZEBtb25nb2RiOjI3MDE3Lz9yZXRyeVdyaXRlcz10cnVlJmxvYWRCYWxhbmNlZD1mYWxzZSZzZXJ2ZXJTZWxlY3Rpb25UaW1lb3V0TVM9NTAwMCZjb25uZWN0VGltZW91dE1TPTEwMDAwJmF1dGhTb3VyY2U9YWRtaW4mYXV0aE1lY2hhbmlzbT1TQ1JBTS1TSEEtMjU2JztcclxuY29uc3QgbW9uZ29EYkNvbm5lY3Rpb25TdHJpbmcgPSAnbW9uZ29kYitzcnY6Ly9mbGFoZXJ0eWpvZTkwOlJpYWRic2MlNUU5MEBjbHVzdGVyMC4wYzV0bnNuLm1vbmdvZGIubmV0L2xzZT9hcHBOYW1lPUNsdXN0ZXIwJnJldHJ5V3JpdGVzPXRydWUmbG9hZEJhbGFuY2VkPWZhbHNlJnJlcGxpY2FTZXQ9YXRsYXMtbmVnOHlqLXNoYXJkLTAmcmVhZFByZWZlcmVuY2U9cHJpbWFyeSZzcnZTZXJ2aWNlTmFtZT1tb25nb2RiJmNvbm5lY3RUaW1lb3V0TVM9MTAwMDAmdz1tYWpvcml0eSZhdXRoU291cmNlPWFkbWluJmF1dGhNZWNoYW5pc209U0NSQU0tU0hBLTEnO1xyXG5cclxuXHJcbmNvbnN0IGNvbW1vblN0YWNrUHJvcGVydGllczogQ29tbW9uU3RhY2tQcm9wcyA9IHt9XHJcblxyXG5jb25zdCBjb21tb25TdGFjayA9XHJcbiAgICBuZXcgQ29tbW9uU3RhY2soYXBwLCBgTHNlRGF0YUFuYWx5c2lzQ29tbW9uU3RhY2tgLCB7XHJcbiAgICAgICAgLi4uY29tbW9uU3RhY2tQcm9wZXJ0aWVzLCAgICAgXHJcbiAgICAgICAgLi4uZW52ICAgXHJcbiAgICB9KVxyXG5cclxuY29uc3QgbHNlQmVzdFBlcmZvcm1lcnNMYW1iZGFTdGFjayA9XHJcbiAgICBuZXcgTHNlQmVzdFBlcmZvcm1lcnNMYW1iZGFTdGFjayhhcHAsIGBMc2VCZXN0UGVyZm9ybWVyc0xhbWJkYVN0YWNrYCwge1xyXG4gICAgICAgIC4uLmNvbW1vblN0YWNrUHJvcGVydGllcyxcclxuICAgICAgICBtb25nb0RiQ29ubmVjdGlvblN0cmluZzogbW9uZ29EYkNvbm5lY3Rpb25TdHJpbmcsXHJcbiAgICAgICAgLi4uZW52XHJcbiAgICB9KVxyXG5sc2VCZXN0UGVyZm9ybWVyc0xhbWJkYVN0YWNrLmFkZERlcGVuZGVuY3koY29tbW9uU3RhY2spXHJcbiJdfQ==